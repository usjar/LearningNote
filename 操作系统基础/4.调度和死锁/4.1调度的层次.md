[toc]
### 调度的层次
#### 作业调度
- 作业调度又称宏观调度，高级调度或长程调度，其主要任务是按一定的原则从外存上处于后备状态的作业中选择一个或者多个，给它们分配内存、输入\输出等必要的资源，并建立相应的进程，以使该作业具有获得竞争处理机的权利。作业调度的运行频率低，通常为几分钟一次。
#### 进程调度
- 进程调度又称微观调度、短程调度或者低级调度，其主要任务是按照某种策略和方法从就绪队列中选取一个进程，将处理机分配给它。处理机的远行频率很高，一般几十毫秒运行一次。==进程调度是操作系统中最基本的调度，在一般操作系统中都必须配置进程调度==
#### 中级调度
- 中级调度又称为中程调度或者交换调度，其主要任务是按照给定的原则和策略，将处于外存对换区中的重又具备运行条件的进程调入内存，或将处于内存的暂时不能运行的进程交换到对换区。中级调度的运行频率介于作业调度和进程调度之间。
调度的层次如图所示：
@import "IMG_20191028_182909.jpg"
#### 调度性能的评价
1. 调度算法应该达到的目标
- 系统的处理能力高。使系统每天运行尽可能多的作业。
- 系统资源利用充分，使处理机保持忙碌状态，使设备保持忙碌状态，以到达充分利用系统资源的目的。
- 算法对所有的作业公平合理。使所有的用户感到满意。
==由于这些目标往往相互冲突，任何一个调度算法都想要同时满足上述目标是不可能的==例如，要想执行尽可能多的作业，调度算法就应该选择那些估计时间短的作业，而这对于那些估计时间长的作业不公平。
2. 确定调度算法时应该考虑的因素
确定调度算法时应该考虑如下因素：
- 设计目标：系统选择的调度算法应该与系统的整体目标一致。如批处理系统应该尽量提高系统的平均吞吐量；分时系统应该保证用户所能的响应时间······
- 资源使用的均衡性：注意系统资源的均衡使用，使输入\输出繁忙的作业与CPU繁忙的作业搭配运行
- 平衡系统和用户的要求：由于系统和用户的要求往往是矛盾的对立双方，确定算法时要尽量缓和双方的矛盾。
3. 调度性能的评价标准
- CPU利用率
- 系统吞吐量
- 周转时间
    - 作业的周转时间是指从作业提交到作业完成之间的时间间隔。作业$i$的周转时间可以用公式表示如下：
    $$T_i=T_{ei}-T_{si}$$
    其中$T_{ei}为作业i的完成时间，T_{si}为作业i的提交时间$
    - 平均周转时间是指多个作业周转时间的平均值。$n$个作业的平均周转时间$T$科用公式表示如下$$T=(T_1+T_2+····+T_n)$$
    - 带权周转时间是指作业周转时间与作业实际运行时间的比。作业$i$的带权周转时间$W_i$可以表示如下$$W=T_i/T_{ri}$$其中$T_i$为作业$i的周转时间T_{ri}$为作业$i$的实际运行时间。
    - 平均带权周转时间是指多个作业带权周转时间的平均值。$n$个作业的平均带权周转时间$W$可用公式表示如下$$W=(W_1+W_2+....+W_n)/n$$
4. 响应时间。在交互式系统中，一般不采用周转时间作为评价标准，采用响应时间作为衡量调度算法的重要准则之一。响应时间是指从用户提交请求到系统首次产生影响所用的时间。从用户角度看，调度策略应尽量降低响应时间，使响应时间处在用户能接受的范围之内。