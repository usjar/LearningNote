[toc]
### 进程调度
#### 进程调度的功能
·进程调度程序主要完成以下功能：
1. 记录系统中所有进程的有关情况及状态特征
2. 选择获得处理机的进程
3. 处理机分配
    当正在执行进程由于某种原因而要放弃处理机时，进程调度程序应保护单前执行进程的CPU现场，将其状态由执行变成就绪或者阻塞，并插入到相应队列中去；同时调度程序还应该根据一定原则从就绪队列中挑选出一个进程，将该进程从就绪队列中移出，恢复其CPU现场，并将其状态改为执行。
    引起进程调度的原因有以下几种：
    - 当前运行进程运行结束。因任务完成而正常结束，或者因为出现错误而异常结束。
    - 当前运行进程因为某种原因，如I\O请求，从运行状态进入阻塞状态。
    - 当前运行进程执行某种原语操作，如P操作，阻塞原语等，进入阻塞状态。
    - 执行完系统调用等系统程序后返回用户进程，这时可以看做系统进程执行完毕，从而可以调度一个新的用户进程。
    - 在采用剥夺调度方式的系统中一个具有更高优先级的进程要求使用处理机，则使用当前运行进程进入就绪队列(这与调度方式有关)
    - 在分时系统中，分配给该进程的时间片已用完(这与系统类型有关，多用于分时系统中)。
    #### 进程调度的方式
    - 抢占方式
    这种调度方式是指一个进程正在处理机上执行时，若有某个更为重要或紧迫的进程需要使用处理机，则立即停止正在执行的进程，将处理机分配给更重要或者紧迫的进程
    - 非抢占方式
    当某一个进程正在处理机上执行时，即使有某个更为重要或紧迫的进程进入就绪队列，任然让正在处理的进程继续执行，直到该进程完成或发生某种事件而进入阻塞状态时，才能把处理机分配给更为重要或紧迫的进程。