[toc]

### 进程控制

- 进程控制的职责是对系统中的所有进程实施有效管理，其功能包括==进程创建、进程撤销、进程阻塞与唤醒、进程的挂起与激活==等。这些功能一般由操作系统内核中的原语来实现。
- 原语是由若干条机器指令构成的一段程序，用来完成特定功能，这段程序在执行期间不可分割。即原语的执行不能被中断，所以原语的操作具有原子性

- ***操作系统内核的主要功能：***==中断，设备管理，存储器管理，时钟管理，进程管理==

·任何一个计算机系统都有两种运行状态，即核心态和用户态。当操作系统内核程序执行时处于核心态，当用户程序执行时处于用户态

- 核心态又称管态，系统态，是操作系统管理程序执行时机器所属的状态，这种状态具有较高的特权，能执行一切指令，访问所有的寄存器和存储区。
- 用户态又称目态，是用户程序执行时机器所属的状态，这种状态局域较低特权，只能执行规定的指令，访问指定的寄存器和存储区

#### 进程的创建

1. 进程图

   ```mermaid
   graph TD;
   A(A)-->B(B)
   B-->D(D)
   B-->E(E)
   A-->C(C)
   C-->F(F)
   ```

   - 进程图有称为进程树或者进程家族树，是描述家族关系的一段树

#### 进程创建原语
·在多道程序环境中，只有进程才可以在系统内运行，为了使一个程序能够运行，必须为他创建进程。引起进程创建的事件大致有如下几类：

- ***调度新作业***:在批处理系统中，提交给操作系统的作业通常存放在磁盘或磁带上。当作业调度程序选中某个作业时，便为该作业创建进程，分配必要的资源并插入就绪队列；
- ***用户登录***：在交互式系统中，当用户登录进入系统时，操作系统要建立新进程，负责接收并解释用户接入的命令
- ***操作系统提供服务***：当运行中的用户程序向操作系统提出某种请求时，操作系统也会创建进程来完成用户程序所需要的服务功能；
- ***应用请求***：应用程序也可以根据需要来创建一个新的进程，使之与父进程并发执行，以完成特定的任务；

进程创建原语的功能是创建一个新的进程，其主要操作过程如下：

- 向系统申请一个空闲的PCB。从系统的PCB表中找出一个空闲的PCB的表项，并指定一个唯一的PCB标识号(PID)
- 为新进程分配资源，根据新进程提出的资源需求为其分配资源：
- 初始化新进程的PCB：在新进程的PCB中填入进程名、家族信息、程序和数据地址、进程优先级、资源清单和进程状态等信息，

